@inherits LayoutComponentBase
@inject NavigationManager nav

<div class="page">
    <ErrorBoundary @ref="errorBoundary">
        <ChildContent>
            <div>
                <NavMenu />
            </div>

            <main>


                <div class="mt-1 px-4">
                    <MudGrid>
                        <MudItem xs="11"></MudItem>
                        <MudItem xs="1" Class=""><Login_Logout_Toggle /></MudItem>
                    </MudGrid>

                </div>

                <article class="content px-4">
                    @Body
                </article>





            </main>
            <MudThemeProvider />
            <MudDialogProvider />
            <MudSnackbarProvider />
        </ChildContent>
        <ErrorContent>
            <h1>@context.Message</h1>

            <button class="btn btn-primary" @onclick="Recover">Close</button>
        </ErrorContent>

    </ErrorBoundary>
</div>




@code {
    private ErrorBoundary errorBoundary;
    protected override void OnInitialized()
    {
        errorBoundary = new ErrorBoundary();
    }
    void Recover()
    {
        errorBoundary.Recover();
        //nav.NavigateTo("/login");
    }

}