@page "/warehouse/listsummary"
@inject HttpClient http
@*<_WarehouseNavBar />*@

<PageTitle>Operation Summary</PageTitle>

<MudGrid Class="mt-1">
    <MudItem xs="3">
        <MudTextField  Disabled="true" T="string" @bind-Value="@SearchString" Immediate="true" Label="Search operation" Adornment="Adornment.End" AdornmentIcon="@Icons.Filled.Search" AdornmentColor="Color.Primary" />
    </MudItem>
    <MudItem xs="6">
        <MudSwitch @bind-Checked="@status" @onclick="swapLable" Color="Color.Error" UnCheckedColor="Color.Success" >@lable</MudSwitch>        
    </MudItem>    
    <MudItem xs="3" Class="d-flex justify-end">
        <MudButton Color="Color.Info" Variant="Variant.Outlined" Style="width:230px" Link="/Warehouse/Operation">Create New Operation</MudButton>
    </MudItem>
    <MudItem xs="3">
        <MudText Class="indigo-text text-accent-4"><b>@operationMessage</b></MudText>
    </MudItem>
    <MudItem xs="12">
        <MudPaper Elevation="1">
            <_OperationListTable tableState="@status" searchString="@SearchString" />
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    public bool status = false;
    string? lable { get; set; } = "Toggle to view upcoming operations";
    string? operationMessage { get; set; } = "Active Operations";
    string? SearchString { get; set; }

    void swapLable()
    {
        if (status)
        {
            lable = "Toggle to view upcoming operations";
            operationMessage = "Active Operations";
        }
        else
        {
            lable = "Toggle to view ongoing operations";
            operationMessage = "Upcomming Operations";
        }
    }
}